let initializeDropzone = (elementSelector, inputSelector) => {
    var element = $(elementSelector),
    previewContainer = $(".dz-preview");
    element.length && (Dropzone.autoDiscover = !1, element.each((function () {
        var currentElement, isMultiple, previewElement, previousFile, dropzoneConfig;
        currentElement = $(this), isMultiple = void 0 !== currentElement.data("dropzone-multiple"), previewElement = currentElement.find(previewContainer), previousFile = void 0, dropzoneConfig = {
            url: currentElement.data("dropzone-url"),
            thumbnailWidth: null,
            thumbnailHeight: null,
            previewsContainer: previewElement.get(0),
            previewTemplate: previewElement.html(),
            maxFiles: isMultiple ? null : 1,
            acceptedFiles: isMultiple ? null : "image/*",
            success: function (file, response) {
                response = JSON.parse(response);
                if (response.status == 1) {
                    $(inputSelector).val(response.message);
                } else {
                    $(".dz-preview .dz-preview-img").attr({ 'src': "", 'alt': "" });
                    Notification('danger', 'Error', `${response.message}`);
                }
            },
            init: function () {
                this.on("addedfile", (function (file) {
                    !isMultiple && previousFile && this.removeFile(previousFile), previousFile = file
                }))
            }
        };
        previewElement.html(""), currentElement.dropzone(dropzoneConfig);
    })))
}

initializeDropzone('[data-toggle="dropzone-logo"]', '#logo_image');
initializeDropzone('[data-toggle="dropzone-banner"]', '#banner_image');
initializeDropzone('[data-toggle="dropzone-favicon"]', '#favicon_image');